!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@backbase/foundation-ang/data-http")):"function"==typeof define&&define.amd?define("@backbase/exchange-rates-http-ang",["exports","@angular/core","@angular/common/http","@backbase/foundation-ang/data-http"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).backbase=e.backbase||{},e.backbase["exchange-rates-http-ang"]={}),e.ng.core,e.ng.common.http,e.i2)}(this,(function(e,t,r,o){"use strict";var n=new t.InjectionToken("EXCHANGE_RATES_BASE_PATH"),a=function(){function e(e){void 0===e&&(e={}),this.apiKeys=e.apiKeys,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.withCredentials=e.withCredentials,this.encoder=e.encoder,e.credentials?this.credentials=e.credentials:this.credentials={}}return e.prototype.selectHeaderContentType=function(e){var t=this;if(0!==e.length){var r=e.find((function(e){return t.isJsonMime(e)}));return void 0===r?e[0]:r}},e.prototype.selectHeaderAccept=function(e){var t=this;if(0!==e.length){var r=e.find((function(e){return t.isJsonMime(e)}));return void 0===r?e[0]:r}},e.prototype.isJsonMime=function(e){var t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())},e.prototype.lookupCredential=function(e){var t=this.credentials[e];return"function"==typeof t?t():t},e}(),s=new t.InjectionToken("api-data-module ExchangeRatesConfiguration"),i=function(){function e(e,t,r,o){if(e)throw new Error("ExchangeRatesApiModule is already loaded. Import in your base AppModule only.");if(!t)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575");r&&r.setModuleConfig(s,{apiRoot:"",servicePath:o.basePath||"",headers:{}})}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:a,useFactory:t}]}},e}();i.ɵfac=function(e){return new(e||i)(t.ɵɵinject(i,12),t.ɵɵinject(r.HttpClient,8),t.ɵɵinject(o.DataModulesManager,8),t.ɵɵinject(a))},i.ɵmod=t.ɵɵdefineNgModule({type:i}),i.ɵinj=t.ɵɵdefineInjector({providers:[],imports:[[]]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(i,[{type:t.NgModule,args:[{imports:[],declarations:[],exports:[],providers:[]}]}],(function(){return[{type:i,decorators:[{type:t.Optional},{type:t.SkipSelf}]},{type:r.HttpClient,decorators:[{type:t.Optional}]},{type:o.DataModulesManager,decorators:[{type:t.Optional}]},{type:a}]}),null);var c=function(){function e(){}return e.prototype.encodeKey=function(e){return encodeURIComponent(e)},e.prototype.encodeValue=function(e){return encodeURIComponent(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}(),u=function(){function e(e,t,o){this.httpClient=e,this.basePath="/serviceName",this.defaultHeaders=new r.HttpHeaders,this.configuration=new a,o&&(this.configuration=o),"string"!=typeof this.configuration.basePath&&("string"!=typeof t&&(t=this.basePath),this.configuration.basePath=t),this.encoder=this.configuration.encoder||new c}return e.prototype.addToHttpParams=function(e,t,r){return e="object"==typeof t&&t instanceof Date==!1?this.addToHttpParamsRecursive(e,t):this.addToHttpParamsRecursive(e,t,r)},e.prototype.addToHttpParamsRecursive=function(e,t,r){var o=this;if(null==t)return e;if("object"==typeof t)if(Array.isArray(t))t.forEach((function(t){return e=o.addToHttpParamsRecursive(e,t,r)}));else if(t instanceof Date){if(null==r)throw Error("key may not be null if value is Date");e=e.append(r,t.toISOString().substr(0,10))}else Object.keys(t).forEach((function(n){return e=o.addToHttpParamsRecursive(e,t[n],null!=r?r+"."+n:n)}));else{if(null==r)throw Error("key may not be null if value is not object or array");e=e.append(r,t)}return e},e.prototype.getCurrencies=function(e,t,r){void 0===e&&(e="body"),void 0===t&&(t=!1);var o=this.defaultHeaders,n=r&&r.httpHeaderAccept;if(void 0===n){n=this.configuration.selectHeaderAccept(["application/json"])}void 0!==n&&(o=o.set("Accept",n));var a="json";return n&&n.startsWith("text")&&(a="text"),this.httpClient.get(this.configuration.basePath+"/v1/exchange/currencies",{responseType:a,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:t})},e.prototype.getCurrenciesUrl=function(){return this.configuration.basePath+"/v1/exchange/currencies"},e.prototype.getRates=function(e,t,o,n){void 0===t&&(t="body"),void 0===o&&(o=!1);var a=e.source;if(null==a)throw new Error("Required parameter source was null or undefined when calling getRates.");var s=e.target;if(null==s)throw new Error("Required parameter target was null or undefined when calling getRates.");var i=e.from,c=e.to,u=new r.HttpParams({encoder:this.encoder});null!=a&&(u=this.addToHttpParams(u,a,"source")),null!=s&&(u=this.addToHttpParams(u,s,"target")),null!=i&&(u=this.addToHttpParams(u,i,"from")),null!=c&&(u=this.addToHttpParams(u,c,"to"));var d=this.defaultHeaders,p=n&&n.httpHeaderAccept;if(void 0===p){p=this.configuration.selectHeaderAccept(["application/json"])}void 0!==p&&(d=d.set("Accept",p));var l="json";return p&&p.startsWith("text")&&(l="text"),this.httpClient.get(this.configuration.basePath+"/v1/exchange/rates",{params:u,responseType:l,withCredentials:this.configuration.withCredentials,headers:d,observe:t,reportProgress:o})},e.prototype.getRatesUrl=function(e){var t=e.source;if(null==t)throw new Error("Required parameter source was null or undefined when calling getRates.");var o=e.target;if(null==o)throw new Error("Required parameter target was null or undefined when calling getRates.");var n=e.from,a=e.to,s=new r.HttpParams({encoder:this.encoder});null!=t&&(s=this.addToHttpParams(s,t,"source")),null!=o&&(s=this.addToHttpParams(s,o,"target")),null!=n&&(s=this.addToHttpParams(s,n,"from")),null!=a&&(s=this.addToHttpParams(s,a,"to"));var i=s.toString();return this.configuration.basePath+"/v1/exchange/rates"+(i?"?"+i:"")},e}();u.ɵfac=function(e){return new(e||u)(t.ɵɵinject(r.HttpClient),t.ɵɵinject(n,8),t.ɵɵinject(a,8))},u.ɵprov=t.ɵɵdefineInjectable({token:u,factory:u.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(u,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:r.HttpClient},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[n]}]},{type:a,decorators:[{type:t.Optional}]}]}),null);var d=o.createMocks([{urlPattern:"/serviceName/v1/exchange/currencies",method:"GET",responses:[{status:200,body:[{code:"EUR"},{code:"GBP"},{code:"USD"}]},{status:400,body:{message:"Bad Request",errors:[{message:"Value Exceeded. Must be between {min} and {max}.",key:"common.api.shoesize",context:{max:"50",min:"1"}}]}},{status:500,body:{message:"Description of error"}}]}]),p=o.createMocks([{urlPattern:"/serviceName/v1/exchange/rates",method:"GET",responses:[{status:200,body:[{rate:1.1279,source:"EUR",target:"USD",time:"2019-03-13T00:00:00+0000"},{rate:1.12504,source:"EUR",target:"USD",time:"2019-03-12T00:00:00+0000"},{rate:1.12235,source:"EUR",target:"USD",time:"2019-03-11T00:00:00+0000"},{rate:1.12341,source:"EUR",target:"USD",time:"2019-03-10T00:00:00+0000"}]},{status:400,body:{message:"Bad Request",errors:[{message:"Value Exceeded. Must be between {min} and {max}.",key:"common.api.shoesize",context:{max:"50",min:"1"}}]}},{status:500,body:{message:"Description of error"}}]}]),l=o.createMocks([{urlPattern:"/serviceName/v1/exchange/currencies",method:"GET",responses:[{status:200,body:[{code:"EUR"},{code:"GBP"},{code:"USD"}]},{status:400,body:{message:"Bad Request",errors:[{message:"Value Exceeded. Must be between {min} and {max}.",key:"common.api.shoesize",context:{max:"50",min:"1"}}]}},{status:500,body:{message:"Description of error"}}]},{urlPattern:"/serviceName/v1/exchange/rates",method:"GET",responses:[{status:200,body:[{rate:1.1279,source:"EUR",target:"USD",time:"2019-03-13T00:00:00+0000"},{rate:1.12504,source:"EUR",target:"USD",time:"2019-03-12T00:00:00+0000"},{rate:1.12235,source:"EUR",target:"USD",time:"2019-03-11T00:00:00+0000"},{rate:1.12341,source:"EUR",target:"USD",time:"2019-03-10T00:00:00+0000"}]},{status:400,body:{message:"Bad Request",errors:[{message:"Value Exceeded. Must be between {min} and {max}.",key:"common.api.shoesize",context:{max:"50",min:"1"}}]}},{status:500,body:{message:"Description of error"}}]}]);e.COLLECTION_FORMATS={csv:",",tsv:"   ",ssv:" ",pipes:"|"},e.CONFIG_TOKEN=s,e.EXCHANGE_RATES_BASE_PATH=n,e.ExchangeHttpService=u,e.ExchangeHttpServiceGetCurrenciesMocksProvider=d,e.ExchangeHttpServiceGetRatesMocksProvider=p,e.ExchangeHttpServiceMocksProvider=l,e.ExchangeRatesApiModule=i,e.ExchangeRatesConfiguration=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=backbase-exchange-rates-http-ang.umd.min.js.map